<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MyPrint</title>
    <link rel="stylesheet" href="//jsd.onmicrosoft.cn/npm/myprint-design@0.0.24/css/styles/index.css"/>
    <!--    <link rel="stylesheet" href="dist/myprint-design/css/styles/index.css" />-->
    <!-- Import Vue 3 -->
    <script src="//jsd.onmicrosoft.cn/npm/vue@3"></script>
    <!-- Import component library -->
    <script src="//jsd.onmicrosoft.cn/npm/myprint-design@0.0.24"></script>
    <!--    <script src="https://gcore.jsdelivr.net/npm/myprint-design"></script>-->
    <!--    <script src="dist/myprint-design/dist/index.full.js"></script>-->
</head>
<body>

<div id="design-container"></div>

<script>
    const templateContent = '{"width":100,"height":100,"pageUnit":"mm","elementList":[{"type":"Text","x":10,"y":10,"width":50,"height":10,"data":"磨刀霍霍向厨房","option":{"textAlign":"center","verticalAlign":"center"}},{"type":"TextTime","x":10,"y":20,"width":50,"height":10,"option":{"formatter":"{{yyyy年MM月dd日 hh:mm:ss}}","textAlign":"center","verticalAlign":"center"}},{"type":"Image","x":10,"y":30,"width":20,"height":20},{"type":"Image","x":10,"y":30,"width":20,"height":20}]}';
    const template = {
        content: templateContent
    };
    const {MyPrinter, createPrint, mountDesign} = MyPrinterDesign

    const app = Vue.createApp({});
    app.use(createPrint);

    const designContainerEle = document.querySelector('#design-container');

    mountDesign(app, {
        template: template,
        height: '100vh',
        module: {
            provider: JSON.stringify({width: 100, height: 100, pageUnit: 'mm'}),
            previewData: '[{}]'
        }
    }, designContainerEle);

    // MyPrinter.MyPrinter.chromePreview({
    //     panel: '{"width":100,"height":100,"pageUnit":"mm","elementList":[{"type":"Text","x":10,"y":10,"width":50,"height":10,"data":"磨刀霍霍向厨房","option":{"textAlign":"center","verticalAlign":"center"}},{"type":"TextTime","x":10,"y":20,"width":50,"height":10,"option":{"formatter":"{{yyyy年MM月dd日 hh:mm:ss}}","textAlign":"center","verticalAlign":"center"}},{"type":"Image","x":10,"y":30,"width":20,"height":20},{"type":"Image","x":10,"y":30,"width":20,"height":20}]}',
    //     previewDataList: [{}],
    //     timeout: 10 * 1000
    // })
    //     .then(res => {
    //         // 预览页面进行打印时，回调，预览页面的停留时间也会记入超时时间
    //         if (res.status == 'SUCCESS') {
    //             console.log('打印成功');
    //         } else if (res.status == 'ERROR') {
    //             console.log('打印失败', res.msg);
    //         } else if (res.status == 'TIMEOUT') {
    //             console.log('打印超时');
    //         }
    //     });
</script>
</body>
</html>
